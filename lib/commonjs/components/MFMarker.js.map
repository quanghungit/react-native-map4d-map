{"version":3,"names":["viewPropTypes","ViewPropTypes","View","propTypes","coordinate","PropTypes","shape","latitude","number","isRequired","longitude","draggable","bool","anchor","x","y","elevation","rotation","infoWindowAnchor","title","string","snippet","icon","uri","any","width","height","zIndex","visible","userData","object","onPress","func","onPressInfoWindow","onDragStart","onDrag","onDragEnd","MFMarker","React","Component","constructor","props","_onPress","bind","_ref","setCoordinate","location","_runCommand","setRotation","setTitle","setSnippet","setDraggable","setZIndex","setVisible","setInfoWindowAnchor","setElevation","setUserData","_getHandle","findNodeHandle","marker","name","args","Platform","OS","NativeModules","UIManager","dispatchViewManagerCommand","_uiManagerCommand","_mapManagerCommand","componentName","getViewManagerConfig","Commands","event","stopPropagation","ref","render","Image","resolveAssetSource","styles","style","RMFMarker","requireNativeComponent","StyleSheet","create","position"],"sources":["MFMarker.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  requireNativeComponent,\n  StyleSheet,\n  Platform,\n  Image,\n  NativeModules,\n  ViewPropTypes,\n  findNodeHandle\n} from 'react-native';\n\n// if ViewPropTypes is not defined fall back to View.propType (to support RN < 0.44)\nconst viewPropTypes = ViewPropTypes || View.propTypes;\n\nconst propTypes = {\n  ...viewPropTypes,\n\n  /**\n   * The coordinate for the marker.\n   */\n  coordinate: PropTypes.shape({\n    latitude: PropTypes.number.isRequired,\n    longitude: PropTypes.number.isRequired,\n  }).isRequired,\n\n  /**\n   * Default value is `false`\n   */\n  draggable: PropTypes.bool,\n\n  /**\n   * Sets the ground anchor point for the marker.\n   */\n  anchor: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n  }),\n\n  /**\n   * \n   */\n  elevation: PropTypes.number,\n\n  /**\n   * \n   */\n  rotation: PropTypes.number,\n\n  /**\n   * Sets the infor window anchor point for the marker.\n   */\n  infoWindowAnchor: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n  }),\n\n  /**\n   * The title of the marker.\n   */\n  title: PropTypes.string,\n\n  /**\n   * The snippet of the marker.\n   */\n  snippet: PropTypes.string,\n\n  /**\n   * Marker icon to render.\n   */\n  icon: PropTypes.shape({\n    uri: PropTypes.any.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n  }),\n\n\n  /**\n   * zIndex\n   */\n  zIndex: PropTypes.number,\n\n  /**\n   * visible\n   */\n  visible: PropTypes.bool,\n\n  /**\n   * userData\n   */\n  userData:PropTypes.object,\n\n  /**\n   * Callback that is called when the user presses on the marker\n   */\n  onPress: PropTypes.func,\n\n  /**\n   * Callback that is called when the user presses on the info window\n   */\n  onPressInfoWindow: PropTypes.func,\n\n  /**\n   * Callback that is called when the user initiates a drag on this marker (if it is draggable)\n   */\n  onDragStart: PropTypes.func,\n\n  /**\n   * Callback called continuously as the marker is dragged\n   */\n  onDrag: PropTypes.func,\n\n  /**\n   * Callback that is called when a drag on this marker finishes. This is usually the point you\n   * will want to setState on the marker's coordinate again\n   */\n  onDragEnd: PropTypes.func,\n};\n\n\nclass MFMarker extends React.Component {\n    constructor(props) {\n      super(props);      \n      this._onPress = this._onPress.bind(this)\n      this._ref = this._ref.bind(this)\n    }\n\n    setCoordinate(location) {\n        this._runCommand(\"setCoordinate\", [location])\n    }\n\n    setRotation(rotation) {\n      this._runCommand(\"setRotation\", [rotation])\n    }\n\n    setTitle(title) {\n      this._runCommand(\"setTitle\", [title])\n    }\n\n    setSnippet(snippet) {\n      this._runCommand(\"setSnippet\", [snippet])\n    }\n\n    setDraggable(draggable) {\n      this._runCommand(\"setDraggable\", [draggable])\n    }\n\n    setZIndex(zIndex) {\n      this._runCommand(\"setZIndex\", [zIndex])\n    }\n\n    setVisible(visible) {\n      this._runCommand(\"setVisible\", [visible])\n    }\n\n    setInfoWindowAnchor(anchor) {\n      this._runCommand(\"setInfoWindowAnchor\", [anchor])\n    }\n\n    setElevation(elevation) {\n      this._runCommand(\"setElevation\", [elevation])\n    }\n\n    setUserData(userData) {\n      this._runCommand(\"setUserData\", [userData])\n    }\n\n    _getHandle() {\n        return findNodeHandle(this.marker);\n      }\n\n\n    _runCommand(name, args) {\n        switch (Platform.OS) {\n          case 'android':\n            NativeModules.UIManager.dispatchViewManagerCommand(\n              this._getHandle(),\n              this._uiManagerCommand(name),\n              args\n            );\n            break;\n    \n          case 'ios':\n            //this.getMapManagerCommand(name)(this._getHandle(), ...args);\n            this._mapManagerCommand(name)(this._getHandle(), ...args);\n            break;\n    \n          default:\n            break;\n        }\n      }\n\n      _uiManagerCommand(name) {\n        const UIManager = NativeModules.UIManager;\n        const componentName = \"RMFMarker\";\n    \n        if (!UIManager.getViewManagerConfig) {\n          // RN < 0.58\n          return UIManager[componentName].Commands[name];\n        }\n    \n        // RN >= 0.58        \n        return UIManager.getViewManagerConfig(componentName).Commands[name];\n      }\n      \n      _mapManagerCommand(name) {\n        return NativeModules[`RMFMarker`][name];\n      }\n\n      _onPress(event) {\n        event.stopPropagation();\n          if (this.props.onPress) {\n            this.props.onPress(event);\n        }\n      }\n\n      _ref(ref) {\n        this.marker = ref;\n      }\n\n      render() {\n        let icon = {};\n        if (this.props.icon) {\n          let uri = Image.resolveAssetSource(this.props.icon.uri) || {uri: this.props.icon.uri};\n          icon = {uri: uri.uri, width: this.props.icon.width, height: this.props.icon.height}\n        }\n        return <RMFMarker\n          {...this.props}\n          icon={icon}\n          ref={this._ref}\n          style={[styles.marker, this.props.style]}\n          onPress={this._onPress}\n        />;\n      }\n}\n\nMFMarker.propTypes = propTypes;\nvar RMFMarker = requireNativeComponent(`RMFMarker`, MFMarker);\n\nconst styles = StyleSheet.create({\n  marker: {\n    position: 'absolute'\n  },\n});\n\nexport {MFMarker}\n"],"mappings":"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"}