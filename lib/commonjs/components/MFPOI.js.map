{"version":3,"names":["viewPropTypes","ViewPropTypes","View","propTypes","coordinate","PropTypes","shape","latitude","number","isRequired","longitude","title","string","titleColor","ColorPropType","subtitle","poiType","icon","uri","any","zIndex","userData","object","onPress","func","MFPOI","React","Component","constructor","props","_onPress","bind","_ref","event","stopPropagation","ref","poi","setCoordinate","_runCommand","setTitle","setTitleColor","color","processColor","setSubTitle","setPoiType","type","setIcon","Image","resolveAssetSource","setZIndex","setUserData","_getHandle","findNodeHandle","name","args","Platform","OS","NativeModules","UIManager","dispatchViewManagerCommand","_uiManagerCommand","_mapManagerCommand","componentName","getViewManagerConfig","Commands","render","RMFPOI","requireNativeComponent"],"sources":["MFPOI.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  requireNativeComponent,\n  Platform,\n  Image,\n  NativeModules,\n  ViewPropTypes,\n  ColorPropType,\n  findNodeHandle,\n  processColor\n} from 'react-native';\n\n// if ViewPropTypes is not defined fall back to View.propType (to support RN < 0.44)\nconst viewPropTypes = ViewPropTypes || View.propTypes;\n\nconst propTypes = {\n  ...viewPropTypes,\n\n    /**\n   * The coordinate for the POI.\n   */\n  coordinate: PropTypes.shape({\n    latitude: PropTypes.number.isRequired,\n    longitude: PropTypes.number.isRequired,\n  }).isRequired,\n\n  /**\n   * The title of the POI.\n   */\n  title: PropTypes.string,\n\n  /**\n   * The color of the title.\n   */\n  titleColor: ColorPropType,\n\n  /**\n   * The subtile of the POI.\n   */\n  subtitle: PropTypes.string,\n\n  /**\n   * The type of POI\n   */\n  //poiType: PropTypes.oneOf(['cafe', 'atm', 'bank']),\n  poiType: PropTypes.string,\n\n  /**\n   * POI icon to render.\n   */\n  icon: PropTypes.shape({\n    uri: PropTypes.any.isRequired\n  }),\n\n  /**\n   * zIndex\n   */\n  zIndex: PropTypes.number,\n\n  /**\n   * visible\n   */\n  //TODO\n  // visible: PropTypes.bool,\n\n  /**\n   * userData\n   */\n  userData:PropTypes.object,\n\n  /**\n   * Callback that is called when the user presses on the POI\n   */\n  onPress: PropTypes.func,\n};\n\nclass MFPOI extends React.Component {\n  constructor(props) {\n    super(props);\n    this._onPress = this._onPress.bind(this)\n    this._ref = this._ref.bind(this)\n  }\n\n  _onPress(event) {\n    event.stopPropagation();\n      if (this.props.onPress) {\n        this.props.onPress(event);\n    }\n  }\n\n  _ref(ref) {\n    this.poi = ref;\n  }\n\n  setCoordinate(coordinate) {\n    this._runCommand(\"setCoordinate\", [coordinate])\n  }\n  setTitle(title) {\n    this._runCommand(\"setTitle\", [title])\n  }\n  setTitleColor(color) {\n    this._runCommand(\"setTitleColor\", [processColor(color)])\n  }\n  setSubTitle(subtitle) {\n    this._runCommand(\"setSubTitle\", [subtitle])\n  }\n  setPoiType(type) {\n    this._runCommand(\"setPoiType\", [type])\n  }\n  setIcon(icon) {\n    let uri = Image.resolveAssetSource(icon.uri) || { uri: icon.uri }\n    this._runCommand(\"setIcon\", [ { uri: uri.uri } ])\n  }\n  setZIndex(zIndex) {\n    this._runCommand(\"setZIndex\", [zIndex])\n  }\n  // setVisible(visible) {\n  //   this._runCommand(\"setVisible\", [visible])\n  // }\n  setUserData(userData) {\n    this._runCommand(\"setUserData\", [userData])\n  }\n\n  _getHandle() {\n    return findNodeHandle(this.poi);\n  }\n\n\n  _runCommand(name, args) {\n    switch (Platform.OS) {\n      case 'android':\n        NativeModules.UIManager.dispatchViewManagerCommand(\n          this._getHandle(),\n          this._uiManagerCommand(name),\n          args\n        );\n        break;\n\n      case 'ios':\n        this._mapManagerCommand(name)(this._getHandle(), ...args);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  _uiManagerCommand(name) {\n    const UIManager = NativeModules.UIManager;\n    const componentName = \"RMFPOI\";\n\n    if (!UIManager.getViewManagerConfig) {\n      // RN < 0.58\n      return UIManager[componentName].Commands[name];\n    }\n\n    // RN >= 0.58        \n    return UIManager.getViewManagerConfig(componentName).Commands[name];\n  }\n  \n  _mapManagerCommand(name) {\n    return NativeModules[`RMFPOI`][name];\n  }\n\n  render() {\n    let icon = {}\n    if (this.props.icon) {\n      let uri = Image.resolveAssetSource(this.props.icon.uri) || {uri: this.props.icon.uri}\n      icon = { uri: uri.uri }\n    }\n    return <RMFPOI\n      {...this.props}\n      icon={icon}\n      ref={this._ref}\n      onPress={this._onPress}\n    />;\n  }\n}\n\nMFPOI.propTypes = propTypes;\n\nvar RMFPOI = requireNativeComponent(`RMFPOI`, MFPOI);\n\nexport {MFPOI}\n"],"mappings":"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"}