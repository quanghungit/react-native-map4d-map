{"version":3,"names":["viewPropTypes","ViewPropTypes","View","propTypes","onPressCluster","PropTypes","func","MFMarkerCluster","React","Component","constructor","props","_onPressCluster","bind","_ref","_getHandle","findNodeHandle","cluster","_runCommand","name","args","Platform","OS","NativeModules","UIManager","dispatchViewManagerCommand","_uiManagerCommand","_mapManagerCommand","componentName","getViewManagerConfig","Commands","event","stopPropagation","ref","render","console","log","RMFMarkerCluster","requireNativeComponent"],"sources":["MFMarkerCluster.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  requireNativeComponent,\n  Platform,\n  NativeModules,\n  ViewPropTypes,\n  findNodeHandle\n} from 'react-native';\n\n// if ViewPropTypes is not defined fall back to View.propType (to support RN < 0.44)\nconst viewPropTypes = ViewPropTypes || View.propTypes;\n\nconst propTypes = {\n  ...viewPropTypes,\n\n  // algorithm: PropTypes.string,\n\n  /**\n   * Callback that is called when the user presses on the marker cluster\n   */\n  onPressCluster: PropTypes.func,\n};\n\n\nclass MFMarkerCluster extends React.Component {\n  constructor(props) {\n    super(props);      \n    this._onPressCluster = this._onPressCluster.bind(this)\n    this._ref = this._ref.bind(this)\n  }\n\n  _getHandle() {\n    return findNodeHandle(this.cluster);\n  }\n\n  _runCommand(name, args) {\n    switch (Platform.OS) {\n      case 'android':\n        NativeModules.UIManager.dispatchViewManagerCommand(\n          this._getHandle(),\n          this._uiManagerCommand(name),\n          args\n        );\n        break;\n\n      case 'ios':\n        //this.getMapManagerCommand(name)(this._getHandle(), ...args);\n        this._mapManagerCommand(name)(this._getHandle(), ...args);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  _uiManagerCommand(name) {\n    const UIManager = NativeModules.UIManager;\n    const componentName = \"RMFMarkerCluster\";\n\n    if (!UIManager.getViewManagerConfig) {\n      // RN < 0.58\n      return UIManager[componentName].Commands[name];\n    }\n\n    // RN >= 0.58        \n    return UIManager.getViewManagerConfig(componentName).Commands[name];\n  }\n    \n  _mapManagerCommand(name) {\n    return NativeModules[`RMFMarkerCluster`][name];\n  }\n\n  _onPressCluster(event) {\n    event.stopPropagation();\n      if (this.props.onPressCluster) {\n        this.props.onPressCluster(event);\n    }\n  }\n\n  _ref(ref) {\n    this.cluster = ref;\n  }\n\n  render() {\n    console.log('RMFMarkerCluster | render')\n    return <RMFMarkerCluster\n      {...this.props}\n      ref={this._ref}\n      onPressCluster={this._onPressCluster}\n    />;\n  }\n}\n\nMFMarkerCluster.propTypes = propTypes;\nvar RMFMarkerCluster = requireNativeComponent(`RMFMarkerCluster`, MFMarkerCluster);\n\nexport {MFMarkerCluster}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAQA;AACA,MAAMA,aAAa,GAAGC,0BAAA,IAAiBC,IAAI,CAACC,SAA5C;AAEA,MAAMA,SAAS,GAAG,EAChB,GAAGH,aADa;EAGhB;;EAEA;AACF;AACA;EACEI,cAAc,EAAEC,kBAAA,CAAUC;AARV,CAAlB;;AAYA,MAAMC,eAAN,SAA8BC,cAAA,CAAMC,SAApC,CAA8C;EAC5CC,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IACA,KAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;IACA,KAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUD,IAAV,CAAe,IAAf,CAAZ;EACD;;EAEDE,UAAU,GAAG;IACX,OAAO,IAAAC,2BAAA,EAAe,KAAKC,OAApB,CAAP;EACD;;EAEDC,WAAW,CAACC,IAAD,EAAOC,IAAP,EAAa;IACtB,QAAQC,qBAAA,CAASC,EAAjB;MACE,KAAK,SAAL;QACEC,0BAAA,CAAcC,SAAd,CAAwBC,0BAAxB,CACE,KAAKV,UAAL,EADF,EAEE,KAAKW,iBAAL,CAAuBP,IAAvB,CAFF,EAGEC,IAHF;;QAKA;;MAEF,KAAK,KAAL;QACE;QACA,KAAKO,kBAAL,CAAwBR,IAAxB,EAA8B,KAAKJ,UAAL,EAA9B,EAAiD,GAAGK,IAApD;;QACA;;MAEF;QACE;IAfJ;EAiBD;;EAEDM,iBAAiB,CAACP,IAAD,EAAO;IACtB,MAAMK,SAAS,GAAGD,0BAAA,CAAcC,SAAhC;IACA,MAAMI,aAAa,GAAG,kBAAtB;;IAEA,IAAI,CAACJ,SAAS,CAACK,oBAAf,EAAqC;MACnC;MACA,OAAOL,SAAS,CAACI,aAAD,CAAT,CAAyBE,QAAzB,CAAkCX,IAAlC,CAAP;IACD,CAPqB,CAStB;;;IACA,OAAOK,SAAS,CAACK,oBAAV,CAA+BD,aAA/B,EAA8CE,QAA9C,CAAuDX,IAAvD,CAAP;EACD;;EAEDQ,kBAAkB,CAACR,IAAD,EAAO;IACvB,OAAOI,0BAAA,CAAe,kBAAf,EAAkCJ,IAAlC,CAAP;EACD;;EAEDP,eAAe,CAACmB,KAAD,EAAQ;IACrBA,KAAK,CAACC,eAAN;;IACE,IAAI,KAAKrB,KAAL,CAAWP,cAAf,EAA+B;MAC7B,KAAKO,KAAL,CAAWP,cAAX,CAA0B2B,KAA1B;IACH;EACF;;EAEDjB,IAAI,CAACmB,GAAD,EAAM;IACR,KAAKhB,OAAL,GAAegB,GAAf;EACD;;EAEDC,MAAM,GAAG;IACPC,OAAO,CAACC,GAAR,CAAY,2BAAZ;IACA,oBAAO,6BAAC,gBAAD,eACD,KAAKzB,KADJ;MAEL,GAAG,EAAE,KAAKG,IAFL;MAGL,cAAc,EAAE,KAAKF;IAHhB,GAAP;EAKD;;AAlE2C;;;AAqE9CL,eAAe,CAACJ,SAAhB,GAA4BA,SAA5B;AACA,IAAIkC,gBAAgB,GAAG,IAAAC,mCAAA,EAAwB,kBAAxB,EAA2C/B,eAA3C,CAAvB"}