{"version":3,"names":["PropTypes","React","requireNativeComponent","StyleSheet","Platform","Image","NativeModules","ViewPropTypes","findNodeHandle","viewPropTypes","View","propTypes","coordinate","shape","latitude","number","isRequired","longitude","draggable","bool","anchor","x","y","elevation","rotation","infoWindowAnchor","title","string","snippet","icon","uri","any","width","height","zIndex","visible","userData","object","onPress","func","onPressInfoWindow","onDragStart","onDrag","onDragEnd","MFMarker","Component","constructor","props","_onPress","bind","_ref","setCoordinate","location","_runCommand","setRotation","setTitle","setSnippet","setDraggable","setZIndex","setVisible","setInfoWindowAnchor","setElevation","setUserData","_getHandle","marker","name","args","OS","UIManager","dispatchViewManagerCommand","_uiManagerCommand","_mapManagerCommand","componentName","getViewManagerConfig","Commands","event","stopPropagation","ref","render","resolveAssetSource","styles","style","RMFMarker","create","position"],"sources":["MFMarker.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  requireNativeComponent,\n  StyleSheet,\n  Platform,\n  Image,\n  NativeModules,\n  ViewPropTypes,\n  findNodeHandle\n} from 'react-native';\n\n// if ViewPropTypes is not defined fall back to View.propType (to support RN < 0.44)\nconst viewPropTypes = ViewPropTypes || View.propTypes;\n\nconst propTypes = {\n  ...viewPropTypes,\n\n  /**\n   * The coordinate for the marker.\n   */\n  coordinate: PropTypes.shape({\n    latitude: PropTypes.number.isRequired,\n    longitude: PropTypes.number.isRequired,\n  }).isRequired,\n\n  /**\n   * Default value is `false`\n   */\n  draggable: PropTypes.bool,\n\n  /**\n   * Sets the ground anchor point for the marker.\n   */\n  anchor: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n  }),\n\n  /**\n   * \n   */\n  elevation: PropTypes.number,\n\n  /**\n   * \n   */\n  rotation: PropTypes.number,\n\n  /**\n   * Sets the infor window anchor point for the marker.\n   */\n  infoWindowAnchor: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n  }),\n\n  /**\n   * The title of the marker.\n   */\n  title: PropTypes.string,\n\n  /**\n   * The snippet of the marker.\n   */\n  snippet: PropTypes.string,\n\n  /**\n   * Marker icon to render.\n   */\n  icon: PropTypes.shape({\n    uri: PropTypes.any.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n  }),\n\n\n  /**\n   * zIndex\n   */\n  zIndex: PropTypes.number,\n\n  /**\n   * visible\n   */\n  visible: PropTypes.bool,\n\n  /**\n   * userData\n   */\n  userData:PropTypes.object,\n\n  /**\n   * Callback that is called when the user presses on the marker\n   */\n  onPress: PropTypes.func,\n\n  /**\n   * Callback that is called when the user presses on the info window\n   */\n  onPressInfoWindow: PropTypes.func,\n\n  /**\n   * Callback that is called when the user initiates a drag on this marker (if it is draggable)\n   */\n  onDragStart: PropTypes.func,\n\n  /**\n   * Callback called continuously as the marker is dragged\n   */\n  onDrag: PropTypes.func,\n\n  /**\n   * Callback that is called when a drag on this marker finishes. This is usually the point you\n   * will want to setState on the marker's coordinate again\n   */\n  onDragEnd: PropTypes.func,\n};\n\n\nclass MFMarker extends React.Component {\n    constructor(props) {\n      super(props);      \n      this._onPress = this._onPress.bind(this)\n      this._ref = this._ref.bind(this)\n    }\n\n    setCoordinate(location) {\n        this._runCommand(\"setCoordinate\", [location])\n    }\n\n    setRotation(rotation) {\n      this._runCommand(\"setRotation\", [rotation])\n    }\n\n    setTitle(title) {\n      this._runCommand(\"setTitle\", [title])\n    }\n\n    setSnippet(snippet) {\n      this._runCommand(\"setSnippet\", [snippet])\n    }\n\n    setDraggable(draggable) {\n      this._runCommand(\"setDraggable\", [draggable])\n    }\n\n    setZIndex(zIndex) {\n      this._runCommand(\"setZIndex\", [zIndex])\n    }\n\n    setVisible(visible) {\n      this._runCommand(\"setVisible\", [visible])\n    }\n\n    setInfoWindowAnchor(anchor) {\n      this._runCommand(\"setInfoWindowAnchor\", [anchor])\n    }\n\n    setElevation(elevation) {\n      this._runCommand(\"setElevation\", [elevation])\n    }\n\n    setUserData(userData) {\n      this._runCommand(\"setUserData\", [userData])\n    }\n\n    _getHandle() {\n        return findNodeHandle(this.marker);\n      }\n\n\n    _runCommand(name, args) {\n        switch (Platform.OS) {\n          case 'android':\n            NativeModules.UIManager.dispatchViewManagerCommand(\n              this._getHandle(),\n              this._uiManagerCommand(name),\n              args\n            );\n            break;\n    \n          case 'ios':\n            //this.getMapManagerCommand(name)(this._getHandle(), ...args);\n            this._mapManagerCommand(name)(this._getHandle(), ...args);\n            break;\n    \n          default:\n            break;\n        }\n      }\n\n      _uiManagerCommand(name) {\n        const UIManager = NativeModules.UIManager;\n        const componentName = \"RMFMarker\";\n    \n        if (!UIManager.getViewManagerConfig) {\n          // RN < 0.58\n          return UIManager[componentName].Commands[name];\n        }\n    \n        // RN >= 0.58        \n        return UIManager.getViewManagerConfig(componentName).Commands[name];\n      }\n      \n      _mapManagerCommand(name) {\n        return NativeModules[`RMFMarker`][name];\n      }\n\n      _onPress(event) {\n        event.stopPropagation();\n          if (this.props.onPress) {\n            this.props.onPress(event);\n        }\n      }\n\n      _ref(ref) {\n        this.marker = ref;\n      }\n\n      render() {\n        let icon = {};\n        if (this.props.icon) {\n          let uri = Image.resolveAssetSource(this.props.icon.uri) || {uri: this.props.icon.uri};\n          icon = {uri: uri.uri, width: this.props.icon.width, height: this.props.icon.height}\n        }\n        return <RMFMarker\n          {...this.props}\n          icon={icon}\n          ref={this._ref}\n          style={[styles.marker, this.props.style]}\n          onPress={this._onPress}\n        />;\n      }\n}\n\nMFMarker.propTypes = propTypes;\nvar RMFMarker = requireNativeComponent(`RMFMarker`, MFMarker);\n\nconst styles = StyleSheet.create({\n  marker: {\n    position: 'absolute'\n  },\n});\n\nexport {MFMarker}\n"],"mappings":"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"}