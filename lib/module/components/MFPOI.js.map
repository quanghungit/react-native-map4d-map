{"version":3,"names":["PropTypes","React","requireNativeComponent","Platform","Image","NativeModules","ViewPropTypes","ColorPropType","findNodeHandle","processColor","viewPropTypes","View","propTypes","coordinate","shape","latitude","number","isRequired","longitude","title","string","titleColor","subtitle","poiType","icon","uri","any","zIndex","userData","object","onPress","func","MFPOI","Component","constructor","props","_onPress","bind","_ref","event","stopPropagation","ref","poi","setCoordinate","_runCommand","setTitle","setTitleColor","color","setSubTitle","setPoiType","type","setIcon","resolveAssetSource","setZIndex","setUserData","_getHandle","name","args","OS","UIManager","dispatchViewManagerCommand","_uiManagerCommand","_mapManagerCommand","componentName","getViewManagerConfig","Commands","render","RMFPOI"],"sources":["MFPOI.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  requireNativeComponent,\n  Platform,\n  Image,\n  NativeModules,\n  ViewPropTypes,\n  ColorPropType,\n  findNodeHandle,\n  processColor\n} from 'react-native';\n\n// if ViewPropTypes is not defined fall back to View.propType (to support RN < 0.44)\nconst viewPropTypes = ViewPropTypes || View.propTypes;\n\nconst propTypes = {\n  ...viewPropTypes,\n\n    /**\n   * The coordinate for the POI.\n   */\n  coordinate: PropTypes.shape({\n    latitude: PropTypes.number.isRequired,\n    longitude: PropTypes.number.isRequired,\n  }).isRequired,\n\n  /**\n   * The title of the POI.\n   */\n  title: PropTypes.string,\n\n  /**\n   * The color of the title.\n   */\n  titleColor: ColorPropType,\n\n  /**\n   * The subtile of the POI.\n   */\n  subtitle: PropTypes.string,\n\n  /**\n   * The type of POI\n   */\n  //poiType: PropTypes.oneOf(['cafe', 'atm', 'bank']),\n  poiType: PropTypes.string,\n\n  /**\n   * POI icon to render.\n   */\n  icon: PropTypes.shape({\n    uri: PropTypes.any.isRequired\n  }),\n\n  /**\n   * zIndex\n   */\n  zIndex: PropTypes.number,\n\n  /**\n   * visible\n   */\n  //TODO\n  // visible: PropTypes.bool,\n\n  /**\n   * userData\n   */\n  userData:PropTypes.object,\n\n  /**\n   * Callback that is called when the user presses on the POI\n   */\n  onPress: PropTypes.func,\n};\n\nclass MFPOI extends React.Component {\n  constructor(props) {\n    super(props);\n    this._onPress = this._onPress.bind(this)\n    this._ref = this._ref.bind(this)\n  }\n\n  _onPress(event) {\n    event.stopPropagation();\n      if (this.props.onPress) {\n        this.props.onPress(event);\n    }\n  }\n\n  _ref(ref) {\n    this.poi = ref;\n  }\n\n  setCoordinate(coordinate) {\n    this._runCommand(\"setCoordinate\", [coordinate])\n  }\n  setTitle(title) {\n    this._runCommand(\"setTitle\", [title])\n  }\n  setTitleColor(color) {\n    this._runCommand(\"setTitleColor\", [processColor(color)])\n  }\n  setSubTitle(subtitle) {\n    this._runCommand(\"setSubTitle\", [subtitle])\n  }\n  setPoiType(type) {\n    this._runCommand(\"setPoiType\", [type])\n  }\n  setIcon(icon) {\n    let uri = Image.resolveAssetSource(icon.uri) || { uri: icon.uri }\n    this._runCommand(\"setIcon\", [ { uri: uri.uri } ])\n  }\n  setZIndex(zIndex) {\n    this._runCommand(\"setZIndex\", [zIndex])\n  }\n  // setVisible(visible) {\n  //   this._runCommand(\"setVisible\", [visible])\n  // }\n  setUserData(userData) {\n    this._runCommand(\"setUserData\", [userData])\n  }\n\n  _getHandle() {\n    return findNodeHandle(this.poi);\n  }\n\n\n  _runCommand(name, args) {\n    switch (Platform.OS) {\n      case 'android':\n        NativeModules.UIManager.dispatchViewManagerCommand(\n          this._getHandle(),\n          this._uiManagerCommand(name),\n          args\n        );\n        break;\n\n      case 'ios':\n        this._mapManagerCommand(name)(this._getHandle(), ...args);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  _uiManagerCommand(name) {\n    const UIManager = NativeModules.UIManager;\n    const componentName = \"RMFPOI\";\n\n    if (!UIManager.getViewManagerConfig) {\n      // RN < 0.58\n      return UIManager[componentName].Commands[name];\n    }\n\n    // RN >= 0.58        \n    return UIManager.getViewManagerConfig(componentName).Commands[name];\n  }\n  \n  _mapManagerCommand(name) {\n    return NativeModules[`RMFPOI`][name];\n  }\n\n  render() {\n    let icon = {}\n    if (this.props.icon) {\n      let uri = Image.resolveAssetSource(this.props.icon.uri) || {uri: this.props.icon.uri}\n      icon = { uri: uri.uri }\n    }\n    return <RMFPOI\n      {...this.props}\n      icon={icon}\n      ref={this._ref}\n      onPress={this._onPress}\n    />;\n  }\n}\n\nMFPOI.propTypes = propTypes;\n\nvar RMFPOI = requireNativeComponent(`RMFPOI`, MFPOI);\n\nexport {MFPOI}\n"],"mappings":"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"}